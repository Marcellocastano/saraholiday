<!DOCTYPE html>
<html lang="en" ng-app="myapp">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Sara Holiday</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/modern-business.css" rel="stylesheet">
    <link href="css/StyleSheet.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <script type = "text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.js" ></script>
    <script type="text/javascript" src="js/myapp.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="http://maps.googleapis.com/maps/api/js"></script>
      <!--<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBa4vvx6eKc_XB9y8tp4GQWYbf6ZzUP9NE&sensor=false"></script>--><!-- la chiave non sembra funzionare sul localhost-->
        <!--<script type="text/javascript" src="/js/googleApi.js?key=AIzaSyBa4vvx6eKc_XB9y8tp4GQWYbf6ZzUP9NE&sensor=false"></script>-->
        <!--funzione initialize (inizializza la mappa)-->
        <script type="text/javascript">
            var markerHome = [{
                "title": 'Mazara',
                "lat": 37.655063,
                "lng": 12.583156,
                "description": 'Sara Home'
            }];

            var markerRelax = [{
                "title": 'Mazara',
                "lat": 37.665322,
                "lng": 12.552742999999964,
                "description": 'Sara Relax Home/Chalet'
            }];


            function initialize(destination) {
                //alert("ASP");
                //alert("initialize map called");
                // var myLatLng = { lat: 37.665322, lng: 12.552742999999964 };
                var myLatLng;
                if (destination == 'Home') {
                    myLatLng = { lat: markerHome[0].lat, lng: markerHome[0].lng };
                }
                if (destination == 'Relax') {
                    myLatLng = { lat: markerRelax[0].lat, lng: markerRelax[0].lng };
                }

                var mapProp = {
                    center: myLatLng,
                    zoom: 16,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var marker = new google.maps.Marker({
                    position: myLatLng
                    //animation:google.maps.Animation.BOUNCE
                    //icon:'pinkball.png'
                });
                var infowindow = new google.maps.InfoWindow({
                    content: "Sara Home Holiday"
                });

                /* var palermo = new google.maps.LatLng(38.1824001, 13.100581899999952);
                var myTrip = [palermo, myLatLng];
                var flightPath = new google.maps.Polyline({
                path: myTrip,
                strokeColor: "#0000FF",
                strokeOpacity: 0.8,
                strokeWeight: 2
                });*/

                var googlemap = document.getElementById("googleMap");
                if (!googlemap) {
                    alert("google map not found");
                }
                var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
                
                marker.setMap(map);
                //flightPath.setMap(map);
                google.maps.event.addListener(marker, 'click', function () {
                    infowindow.open(map, marker);
                });

                //recupero l'altezza del div che contiene la mappa
                var tdMapsHeight = document.getElementById("googleMap").offsetHeight + "px";
                document.getElementById("googleMap").style.height = tdMapsHeight;
                //alert("altezza settata a " + tdMapsHeight);
            }

       </script>

    <script type="text/javascript">

        var markersFromPalermoToRelax = [
                 {
                     "title": 'Palermo',
                     "lat": '38.1824001',
                     "lng": '13.100581899999952',
                     "description": 'Aeroporto di Palermo Falcone e Borsellino'
                 }
             ,
                 {
                     "title": 'Mazara',
                     "lat": '37.665322',
                     "lng": '12.552742999999964 ',
                     "description": 'Sara Relax Home/Chalet'
                 }
         ];

        var markersFromTrapaniToRelax = [
                 {
                     "title": 'Trapani',
                     "lat": '37.909518',
                     "lng": '12.49252260000003',
                     "description": 'Aeroporto Vincenzo Florio (Trapani)'
                 }
             ,
                 {
                     "title": 'Mazara',
                     "lat": '37.665322',
                     "lng": '12.552742999999964 ',
                     "description": 'Sara Relax Home/Chalet'
                 }
         ];

        var markersFromPalermoToHome = [
                 {
                     "title": 'Palermo',
                     "lat": '38.1824001',
                     "lng": '13.100581899999952',
                     "description": 'Aeroporto di Palermo Falcone e Borsellino'
                 }
             ,
                 {
                     "title": 'Mazara',
                     "lat": '37.655063', 
                     "lng": '12.583156',
                     "description": 'Sara Home'
                 }
         ];

        var markersFromTrapaniToHome = [
                 {
                     "title": 'Trapani',
                     "lat": '37.909518',
                     "lng": '12.49252260000003',
                     "description": 'Aeroporto Vincenzo Florio (Trapani)'
                 }
             ,
                 {
                     "title": 'Mazara',
                     "lat": '37.655063', 
                     "lng": '12.583156',
                     "description": 'Sara Home'
                 }
         ];
        function pathFrom(origin, destination) {

            var markers;
            if (origin == "Palermo") {
                if (destination == "Home") {
                    markers = markersFromPalermoToHome;
                }
                if (destination == "Relax") {
                    markers = markersFromPalermoToRelax;
                }
            }
            if (origin == "Trapani") {
                 if (destination == "Home") {
                    markers = markersFromTrapaniToHome;
                }
                if (destination == "Relax") {
                    markers = markersFromTrapaniToRelax;
                }
            }
            var mapOptions = {
                center: new google.maps.LatLng(markers[0].lat, markers[0].lng),
                zoom: 10,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapOptions);
            var infoWindow = new google.maps.InfoWindow();
            var lat_lng = new Array();
            var latlngbounds = new google.maps.LatLngBounds();
            for (i = 0; i < markers.length; i++) {
                var data = markers[i]
                var myLatlng = new google.maps.LatLng(data.lat, data.lng);
                lat_lng.push(myLatlng);
                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map,
                    title: data.title
                });
                latlngbounds.extend(marker.position);
                (function (marker, data) {
                    google.maps.event.addListener(marker, "click", function (e) {
                        infoWindow.setContent(data.description);
                        infoWindow.open(map, marker);
                    });
                })(marker, data);
            }
            map.setCenter(latlngbounds.getCenter());
            map.fitBounds(latlngbounds);

            //***********ROUTING****************//

            //Initialize the Path Array
            var path = new google.maps.MVCArray();

            //Initialize the Direction Service
            var service = new google.maps.DirectionsService();

            //Set the Path Stroke Color
            var poly = new google.maps.Polyline({ map: map, strokeColor: '#4986E7' });

            //Loop and Draw Path Route between the Points on MAP
            for (var i = 0; i < lat_lng.length; i++) {
                if ((i + 1) < lat_lng.length) {
                    var src = lat_lng[i];
                    var des = lat_lng[i + 1];
                    path.push(src);
                    poly.setPath(path);
                    service.route({
                        origin: src,
                        destination: des,
                        travelMode: google.maps.DirectionsTravelMode.DRIVING
                    }, function (result, status) {
                        if (status == google.maps.DirectionsStatus.OK) {
                            for (var i = 0, len = result.routes[0].overview_path.length; i < len; i++) {
                                path.push(result.routes[0].overview_path[i]);
                            }
                        }
                    });
                }
            }
        }
</script>
</head>

<body>
    
    <navigationtab></navigationtab>
  

    

    <!-- Header Carousel -->
    <header id="myCarousel" class="carousel slide" ng-show="navigationtab.isSet(1)">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
            <li data-target="#myCarousel" data-slide-to="3"></li>
            <li data-target="#myCarousel" data-slide-to="4"></li>
            <li data-target="#myCarousel" data-slide-to="5"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">

            <div class="item active">
                <div class="fill" style="background-image:url('images/Home Carousel/Relax1.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Relax Home</h2>
                </div>
            </div>

            <div class="item">
                <div class="fill" style="background-image:url('images/Home Carousel/Salone1.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Relax Chalet</h2>
                </div>
            </div>

            <div class="item">
                <div class="fill" style="background-image:url('images/Home Carousel/Chalet1.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Relax Chalet</h2>
                </div>
            </div>

            <div class="item">
                <div class="fill" style="background-image:url('images/Home Carousel/Chalet2.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Relax Chalet</h2>
                </div>
            </div>

            <div class="item">
                <div class="fill" style="background-image:url('images/Home Carousel/Cucina2.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Home</h2>
                </div>
            </div>

            <div class="item">
                <div class="fill" style="background-image:url('images/Home Carousel/Cucina3.JPG');"></div>
                <div class="carousel-caption">
                    <h2>Sara Home</h2>
                </div>
            </div>

        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>
    </header>

    <!-- Page Content -->
    <div class="container" ng-show="navigationtab.isSet(1)">

        <!-- Marketing Icons Section -->
        <div class="row">

            <div class="col-lg-12">
                <h1 class="page-header">
                    Welcome to Sara's
                </h1>
            </div>

            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Sara Relax Home</h4>
                    </div>
                    <div class="panel-body">
                        <p>Accogliente villetta indipendente di mq 100 a pochi passi dal mare, con giardino e ampio spazio circostante, oltre 300 m. di area libera per muovervi in libertà, in grado di ospitare fino a 11 persone. E' situata in una zona residenziale molto riservata, nel cuore della località balneare di “Tonnarella” a 250 m. dalla spiaggia bianca e sabbiosa. </p>
                        <br>
                        <a href ng-click="navigationtab.setTab(2)" class="btn btn-default">Vedi</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Sara Relax Chalet</h4>
                    </div>
                    <div class="panel-body">
                        <p>Accogliente casetta indipendente di mq 40, con giardino e ampio spazio circostante. E' situata in una zona residenziale molto riservata, nel cuore della località balneare di “Tonnarella” a 250 m. dalla spiaggia bianca e sabbiosa. E' perfetta per 3 persone, ma all'occorrenza può accoglierne fino ad un massimo di 5, utilizzando il comodo divano letto matrimoniale in soggiorno. </p>
                        <a href ng-click="navigationtab.setTab(3)" class="btn btn-default">Vedi</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Sara Home</h4>
                    </div>
                    <div class="panel-body">
                        <p>Accogliente e luminoso appartamento di mq 80 a pochi passi dal mare, con giardinetto pubblico e 2 balconi a piano terra. E' situata in una zona residenziale molto tranquilla e riservata, a 900 m. dalla località balneare di “Tonnarella” dalla spiaggia bianca e sabbiosa e a 900 m. dal centro storico. E' perfetta per 7 persone e può accoglierne fino a 9.</p>
                        <br>
                        <a href ng-click="navigationtab.setTab(4)" class="btn btn-default">Vedi</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->


        <hr>
    </div>
    <!-- /.container -->
    
    <sararelaxhome></sararelaxhome>

    <sarahome></sarahome>

    <sararelaxchalet></sararelaxchalet>

    <prices></prices>

    <contact></contact>

    <locationtab></locationtab>

    <contracttab></contracttab>

    <bookingtab></bookingtab>

    <tourism></tourism>


    <!-- Footer -->
        <footer>
            <div class="row">

                <div class="col-lg-12-right">
                <a name="fb_share" type="button_count" href="http://www.facebook.com/sharer.php">Condividi su Facebook</a>
                <script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" type="text/javascript"></script>
                </div>

                <div class="col-lg-12">
                    <p>Copyright &copy; Your Website 2014</p>
                </div>

                
            </div>
        </footer>


    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Script to Activate the Carousel -->
    <script>
    $('.carousel').carousel({
        interval: 5000 //changes the speed
    })

   
        /*     function setHomeDoveSiamo() {

                 var tab = document.getElementById("DoveSiamoLink");
                 google.maps.event.addDomListener(tab, 'click', initialize('Relax'));

                 //var tab2 = document.getElementById("CalcolaLink");
                 //loadCalendar();
             }*/
    </script>

</body>

</html>
